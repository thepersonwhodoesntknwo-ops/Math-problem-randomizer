<!DOCTYPE html>
<html>
<head>
    <title>Google Drive</title>
    <link rel="icon" href="https://ssl.gstatic.com">
    <script>
        (function() {
            // Check if we are already in the cloaked tab
            if (window.name === 'cloaked_window') return;

            // 1. Open the about:blank tab
            const win = window.open('about:blank', 'cloaked_window');
            if (!win) {
                // If blocked by popup blocker, show a tiny link as backup
                document.body.innerHTML = "<a href='#' onclick='location.reload()'>Click to authorize access</a>";
                return;
            }

            // 2. Build the stealth content
            const proxyUrl = "https://your-replit-project.replit.app"; // Your Replit URL
            const doc = win.document;
            
            doc.open();
            doc.write(`
                <!DOCTYPE html>
                <html>
                <head>
                    <title>My Drive - Google Drive</title>
                    <link rel="icon" href="https://ssl.gstatic.com">
                    <style>
                        body, html { margin:0; padding:0; height:100%; overflow:hidden; }
                        iframe { width:100%; height:100%; border:none; }
                    </style>
                </head>
                <body>
                    <iframe src="${proxyUrl}"></iframe>
                </body>
                </html>
            `);
            doc.close();

            // 3. Immediately redirect THIS original tab to a real site
            window.location.replace("https://drive.google.com");
        })();
    </script>
</head>
<body style="background: white;">
    <!-- This body stays empty because the script redirects instantly -->
</body>
</html>
